# CAP
## Consistency
- 一致性
- 写操作后的读操作可以读取到最新的数据状态
- 数据分布在多个节点时，从任意节点读取到的数据都是最新的状态
- 存在数据同步的过程，写操作的响应会有延迟
- 为了保证数据的一致性，会暂时锁住资源，等数据同步完成释放资源
- 如果请求的节点数据同步失败了，则返回错误信息，一定不能返回旧数据
## Availability
- 可用性
- 所有请求都有相应
- 不能响应超时
- 不能响应错误
## Partition tolerance
- 分区容错性
- 必须保证
# 分布式锁
- 解决分布式集群下数据一致性问题
## zk分布式锁
- 基于CP实现，强一致性
- 通过ZAB(Zookeeper Atomic Broadcast)协议实现
## redis分布式锁
- 基于AP实现