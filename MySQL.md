# Mysql基础
## MySQL常用函数
- count
- sum
- max
- min
- avg
## 三大范式
- 第一范式：每列都不能再拆分
- 第二范式：在第一范式下，非主键列完全依赖主键列
- 第三范式：在第二范式下，非主键列只依赖主键列
## Innodb和MyISAM的区别
### Innodb
- 支持事务ACID
- 支持行锁
- 支持表锁
- 支持外键
### MyISAM
- 不支持事务
- 不支持行锁
- 支持表锁
- 不支持外键
# 索引
## 索引定义
- 索引是一个文件，包含对数据表中所有记录的引用指针，是一种数据结构，快速查询，常用实现：B+树
## 索引优缺点
### 优点
- 加快查询速度
- 使用优化隐藏器，提高系统性能
### 缺点
- 创建和维护索引需要耗费时间，降低增删改的执行效率
- 需要占用物理空间
## 索引创建方式
- 建表时创建：***,primary key id, unique key idx_u_1(*, *),key idx_n_1(*)
- 新增索引1：alter table table_name add index idx_n_1(*);【可以创建任意索引】
- 新增索引2：create index idx_n_1 on table_name (*);【不能创建主键索引】
## 索引存储方式
- B+树：Innodb默认的存储方式【多路平衡查找树】
- 哈希索引：哈希得到键值->回表查询实际数据【hash表】，只适合等值查询，不支持范围查询
## B树和B+树区别
### B树
- B树的非叶子节点存储key-value
- 重复查询多次的场景
### B+树
- B+树的非叶子节点只存储key
- B+树的叶子节点存储value
- B+树空间利用率高，减少I/O次数，磁盘读一次的key更多
- B+树value按顺序在叶子节点存储，范围查询
- B+树查询性能稳定，都要查到叶子节点
## 聚簇索引和非聚簇索引
### 聚簇索引
- 叶子节点存储当前索引值和整行数据，不用回表
### 非聚簇索引
- 叶子节点存储当前行数据的主键值
- 查询字段如果都命中了索引，则不必回表
## 联合索引
- 多个字段建立一个索引
- 需要按照建立索引的顺序使用字段，才可以命中联合索引
- alter table table_name add index idx_n_1(a, b, c);
- a; a、b; a、b、c;都是索引
# 事务
## 事务定义
- 事务是一个不可分割的数据操作序列
- 数据库并发控制的基本单位
- 事务的执行结果使数据库从一种一致性状态变为另一种一致性状态
- 事务是逻辑上的一组操作，要么都执行，要么都不执行
## 事务特性【ACID】
- A：原子性，事务是最小的执行单位，不可分割，确保动作要么全部完成，要么完全不起作用
- C：一致性，事务执行前后，数据是一致的
- I：隔离性，并发访问数据库时，事务之间不会相互影响，事务之间是独立的
- D：持久性，事务提交后，对数据库中数据的改变是持久的，即使数据库发生障碍也不影响
## 事务隔离级别
## 脏读、不可重复读、幻读
## Mysql锁
# sql优化